{% extends 'base.html' %}

{% block content %}
<div class="chart" id="bargraph"></div>
<script>
    const gr = document.querySelector('#bargraph');
    const socket = io();
    let isNew = true
    socket.on('plot', (d) => {
        if(isNew) {
            Plotly.newPlot(gr, d.data, d.layout);
            isNew = false
        } else {
            Plotly.react(gr, d.data, d.layout);
        }
    });
</script>
{% endblock %}
